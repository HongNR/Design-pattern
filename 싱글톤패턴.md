
# 싱글톤 패턴 (Singleton Pattern)

##  개념

**싱글톤 패턴**은 **하나의 클래스에 오직 하나의 인스턴스만 가지도록 보장**하는 디자인 패턴입니다. 

프로그램 전역에서 이 단일 인스턴스에 접근할 수 있는 지점을 제공하여, 객체가 여러 개 생성되는 것을 방지합니다.

> **쉽게 말해,** 인스턴스가 필요할 때마다 새로 만들지 않고, 이미 만들어진 단 하나의 인스턴스를 가져와 재활용하는 기법입니다.
>
> 이는 **메모리 절약**과 **데이터 일관성 유지**에 큰 장점이 있습니다.

<br>

##  사용하는 이유

  * **메모리 낭비 방지**: 하나의 인스턴스를 프로그램 전체에서 공유하므로 메모리를 효율적으로 사용할 수 있습니다.
  * **데이터 공유 용이**: 전역적으로 유일한 객체이므로, 다른 클래스에서 데이터를 공유하고 수정하기 쉽습니다. (예: 설정 값, 데이터베이스 연결 객체)
  * **속도 향상**: 이미 생성된 인스턴스를 반환하므로 객체 생성에 드는 시간을 줄일 수 있습니다.

> **💡 Tip\!**
> 싱글톤 패턴은 **전역 변수**의 개념을 클래스 단위로 적용한 것이라고 이해하면 쉽습니다.

<br>

## 단점 및 고려사항

싱글톤 패턴은 유용하지만, 잘못 사용하면 여러 문제를 야기할 수 있어 \*\*'안티 패턴(Anti-Pattern)'\*\*으로 불리기도 합니다.

  * **모듈 간의 높은 의존성**: 싱글톤 인스턴스를 여러 모듈이 직접 공유하게 되면, 서로 간의 결합도가 높아져 코드 수정 및 유지보수가 어려워집니다.
  * **테스트의 어려움**: 전역 상태를 공유하기 때문에 각 단위 테스트가 서로에게 영향을 미칠 수 있어 독립적인 테스트가 힘듭니다.
  * **SOLID 원칙 위배 가능성**: 객체 지향 설계의 핵심 원칙들을 위배할 수 있습니다.
      * **단일 책임 원칙 (SRP)**: 싱글톤 인스턴스가 너무 많은 역할과 데이터를 가지게 되어 단일 책임 원칙을 위반하기 쉽습니다.
      * **개방-폐쇄 원칙 (OCP)**: 싱글톤을 수정할 경우, 이를 사용하는 모든 클라이언트 코드에 영향을 줄 수 있어 확장성이 떨어집니다.
      * **의존 역전 원칙 (DIP)**: 클라이언트가 인터페이스가 아닌 클래스에 직접 의존하게 만들어 유연성을 저해합니다.

> 이처럼 싱글톤 패턴은 유연성을 떨어뜨릴 수 있으므로 직접 구현하기보다는, **스프링(Spring) 프레임워크**와 같은 도구의 도움을 받는 것이 좋습니다. 프레임워크를 사용하면 싱글톤의 장점은 살리면서 단점은 보완할 수 있습니다.

<br>

## Java 예시 코드

```java
public class Singleton {

    // 1. 클래스 로딩 시점에 인스턴스를 미리 생성 (Eager Initialization)
    private static final Singleton instance = new Singleton();

    // 2. 외부에서 new 키워드로 인스턴스 생성을 막기 위해 생성자를 private으로 선언
    private Singleton() {}

    // 3. 외부에서 인스턴스를 얻을 수 있는 유일한 통로인 getInstance() 메서드 제공
    public static Singleton getInstance() {
        return instance;
    }

    public void showMessage() {
        System.out.println("Hello, I am a Singleton instance!");
    }
}
```
